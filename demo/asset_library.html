<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Booth Asset Library</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="web_data/style.css" />
    <style>
        #appLoader { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #0b0b0d; display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 9999; transition: opacity 0.6s ease; }
        .spinner { width: 50px; height: 50px; border: 3px solid rgba(253, 218, 13, 0.1); border-radius: 50%; border-top-color: #FDDA0D; animation: spin 1s ease-in-out infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }
        #mainWrapper { opacity: 0; transition: opacity 0.8s ease; visibility: hidden; }
        body.loaded #mainWrapper { opacity: 1; visibility: visible; }
        body.loaded #appLoader { opacity: 0; pointer-events: none; }
    </style>
</head>
<body>
    <div id="appLoader"><div class="spinner"></div></div>
    <div id="mainWrapper">
        <div id="menuPerimeter" onclick="toggleMenu(event, true)"></div>
        <nav class="top-nav">
            <div class="nav-logo" data-i18n="navTitle">Booth Asset Library</div>
            <div class="search-container">
                <input type="text" id="searchInput" class="search-input" placeholder="..." onkeyup="handleSearchInput()">
                <button id="clearSearch" class="clear-search" onclick="clearSearch()">Ã—</button>
            </div>
            <button id="toggleBtn" class="nav-btn" onclick="toggleMenu(event)" data-i18n="optionsBtn">Options âš™</button>
        </nav>
        <div id="flyoutMenu" class="flyout-menu">
            <div class="setting-group"><span class="setting-label" data-i18n="labelLanguage">Language</span>
                <select id="langSelect" onchange="updateLanguage(this.value)">
                    <option value="de">Deutsch</option><option value="en">English</option><option value="es">EspaÃ±ol</option><option value="fr">FranÃ§ais</option><option value="ja">æ—¥æœ¬èª</option><option value="ko">í•œêµ­ì–´</option><option value="nl">Nederlands</option><option value="pt">PortuguÃªs</option><option value="zh-Hans">ç®€ä½“ä¸­æ–‡</option><option value="zh-Hant">ç¹é«”ä¸­æ–‡</option>
                </select>
            </div>
            <div class="setting-group"><span class="setting-label" data-i18n="labelSort">Sort Order</span>
                <select id="sortOrder" onchange="sortAssets(true)">
                    <option value="id" data-i18n="optId">Folder ID</option><option value="new" data-i18n="optNew">Recently Added</option><option value="name" data-i18n="optName">Alphabetical</option><option value="rel" data-i18n="optRel">Relevance</option><option value="size" data-i18n="optSize">Total Size</option>
                </select>
            </div>
            <div class="setting-group"><span class="setting-label" data-i18n="labelAdult">Adult Filter</span>
                <select id="adultFilter" onchange="applyFilters(true)">
                    <option value="all" data-i18n="optAll">Show All</option><option value="hide" data-i18n="optHide">Hide Adult</option><option value="only" data-i18n="optOnly">Only Adult</option>
                </select>
            </div>
            <div class="setting-group"><span class="setting-label" data-i18n="labelWidth">Card Width</span><input type="range" id="gridRange" min="160" max="400" step="10" value="220" oninput="updateGrid(this.value)"></div>
            <div class="setting-group"><span class="setting-label" data-i18n="labelVisual">Visual Controls</span>
                <label style="display:flex; gap:10px; cursor:pointer; font-size:0.9rem; margin-bottom:10px;"><input type="checkbox" id="blurToggle" onchange="updateBlur(this.checked)"> <span data-i18n="optBlur">Disable Blur</span></label>
                <label style="display:flex; gap:10px; cursor:pointer; font-size:0.9rem; margin-bottom:10px;"><input type="checkbox" id="hideIdToggle" onchange="updateIdVisibility(this.checked)"> <span data-i18n="optHideIds">Hide IDs</span></label>
                <label style="display:flex; gap:10px; cursor:pointer; font-size:0.9rem;"><input type="checkbox" id="translateToggle" onchange="updateTranslationVisibility(this.checked)"> <span data-i18n="optTranslate">English Titles</span></label>
            </div>
            <div class="stats-footer">
                <div class="stat-row"><span data-i18n="statItems">Items</span>: <b id="statCount">0</b></div>
                <div class="stat-row"><span data-i18n="statSize">Total Size</span>: <b id="statSize">0B</b></div>
                <div class="stat-row"><span data-i18n="statSpent">Estimated Investment</span>: <b id="statSpent">0</b></div>
                <div class="stat-row"><span data-i18n="statUpdated">Last Updated</span>: <b id="statDate">N/A</b></div>
                <span class="setting-label" style="margin-top:10px;" data-i18n="labelTopTags">Top Tags</span>
                <div id="commonTags" class="common-tags-grid"></div>
            </div>
        </div>
        <div class="container"><ul id="assetList">
    <li class="asset" onclick="openDetails('5541093')" 
        data-id="5541093" data-name-orig="[Free] ã‚·ãƒ³ãƒ—ãƒ«ã‚¯ãƒ­ãƒƒãƒ—ãƒˆãƒƒãƒ— [èŒMoe]" data-name-trans="[Free] Simple crop top [Moe Moe]" 
        data-author-orig="BUDDYWORKS" data-author-trans="" data-img="img/5541093_thumb.webp" 
        data-all-images='["BoothDownloaderOut/5541093/0f422e2e-a68c-4c7e-bd53-61286d230b3d_base_resized.jpg", "BoothDownloaderOut/5541093/5b5d85a4-08c9-4032-9a3d-7d627c228551_base_resized.jpg", "BoothDownloaderOut/5541093/ea6a6f07-00a5-41d4-92a4-6a0278d4d2b8_base_resized.jpg", "BoothDownloaderOut/5541093/0b7ecc6e-c413-4010-9b7c-85d7999d1c9a_base_resized.jpg"]'
        data-bytes="698146" data-files='[{"name": "Image (1).jpg", "path": "BoothDownloaderOut/5541093/Binary/Image%20%281%29.jpg", "size": "128.4KB"}, {"name": "Image (2).jpg", "path": "BoothDownloaderOut/5541093/Binary/Image%20%282%29.jpg", "size": "246.9KB"}, {"name": "Image (3).jpg", "path": "BoothDownloaderOut/5541093/Binary/Image%20%283%29.jpg", "size": "165.5KB"}, {"name": "Image (4).jpg", "path": "BoothDownloaderOut/5541093/Binary/Image%20%284%29.jpg", "size": "141.0KB"}]'
        data-tags='["\u8863\u88c5", "\u840c", "VRChat", "VRChat\u53ef", "VRC\u60f3\u5b9a\u30e2\u30c7\u30eb", "vrchat\u5411\u3051", "tank top", "tanktop", "Moe\u7528", "Moe\u5bfe\u5fdc", "moe\u7528", "Moe (\u840c)", "moe\u3061\u3083\u3093", "Moe\u5c02\u7528"]' data-adult="false" 
        data-search='5541093 [free] ã‚·ãƒ³ãƒ—ãƒ«ã‚¯ãƒ­ãƒƒãƒ—ãƒˆãƒƒãƒ— [èŒmoe] [free] simple crop top [moe moe] buddyworks  è¡£è£… èŒ vrchat vrchatå¯ vrcæƒ³å®šãƒ¢ãƒ‡ãƒ« vrchatå‘ã‘ tank top tanktop moeç”¨ moeå¯¾å¿œ moeç”¨ moe (èŒ) moeã¡ã‚ƒã‚“ moeå°‚ç”¨ image (1).jpg image (2).jpg image (3).jpg image (4).jpg' data-folder="BoothDownloaderOut/5541093/Binary" data-booth-url="https://buddyworks.booth.pm/items/5541093"
        data-filecount="4" data-wish="143" data-time="1766760002"
        data-price-value="100.0" data-price-currency="JPY" data-limited="false">
        <div class="skeleton-shimmer"></div>
        <div class="image-container"><div class="asset-id-tag">#5541093</div><img class="image-thumbnail" loading="lazy"></div>
        <img class="image-backglow"><div class="content">
            <div class="name"><span class="name-primary">[Free] ã‚·ãƒ³ãƒ—ãƒ«ã‚¯ãƒ­ãƒƒãƒ—ãƒˆãƒƒãƒ— [èŒMoe]</span></div>
            <div class="author-label">by <b class="author-primary">BUDDYWORKS</b></div>
            <div class="stats"><span>681.8KB</span><span class="file-label-dynamic"></span></div>
            <div class="tag-row"><span class="tag-pill">è¡£è£…</span><span class="tag-pill">èŒ</span><span class="tag-pill">VRChat</span><span class="tag-pill">VRChatå¯</span><span class="tag-pill">VRCæƒ³å®šãƒ¢ãƒ‡ãƒ«</span><span class="tag-pill">vrchatå‘ã‘</span><span class="tag-pill">tank top</span><span class="tag-pill">tanktop</span><span class="tag-pill">Moeç”¨</span><span class="tag-pill">Moeå¯¾å¿œ</span><span class="tag-pill">moeç”¨</span><span class="tag-pill">Moe (èŒ)</span></div>
        </div>
    </li>
    

    <li class="asset" onclick="openDetails('5542201')" 
        data-id="5542201" data-name-orig="ã€ŒStrandedã€ã®ãƒ“ãƒ¼ãƒã‚¦ã‚§ã‚¢ã€Œ3ã‚¢ãƒã‚¿ãƒ¼å¯¾å¿œã€" data-name-trans="&quot;Stranded&quot; beachwear &quot;Compatible with 3 avatars&quot;" 
        data-author-orig="BUDDYWORKS" data-author-trans="" data-img="img/5542201_thumb.webp" 
        data-all-images='["BoothDownloaderOut/5542201/1678393c-537d-44d4-babb-7671878488d0_base_resized.jpg", "BoothDownloaderOut/5542201/86c1d66e-e3e6-4c52-93d7-ad2994122b5b_base_resized.jpg", "BoothDownloaderOut/5542201/5e5f1e90-2e3c-47d7-841c-df8ca189f30e_base_resized.jpg", "BoothDownloaderOut/5542201/44d4f43f-5bc1-432b-baa9-231915165eed_base_resized.jpg", "BoothDownloaderOut/5542201/bc9f1ef4-2fa8-4153-99f1-ff1b691bcba8_base_resized.jpg", "BoothDownloaderOut/5542201/bb599940-6975-4802-a706-6efe6d321a85_base_resized.jpg", "BoothDownloaderOut/5542201/b7d559c0-0104-49fb-8c6c-8259385ccc03_base_resized.jpg", "BoothDownloaderOut/5542201/59c74c00-a29e-4edd-8176-2d285bda13a7_base_resized.jpg", "BoothDownloaderOut/5542201/35c9b800-0b15-4627-8eca-dee05cb79c34_base_resized.jpg", "BoothDownloaderOut/5542201/5b4ae9fb-8cbb-4e42-88d5-8f1e590189a5_base_resized.jpg"]'
        data-bytes="1953467" data-files='[{"name": "Image (1).jpg", "path": "BoothDownloaderOut/5542201/Binary/Image%20%281%29.jpg", "size": "205.8KB"}, {"name": "Image (10).jpg", "path": "BoothDownloaderOut/5542201/Binary/Image%20%2810%29.jpg", "size": "137.5KB"}, {"name": "Image (2).jpg", "path": "BoothDownloaderOut/5542201/Binary/Image%20%282%29.jpg", "size": "171.2KB"}, {"name": "Image (3).jpg", "path": "BoothDownloaderOut/5542201/Binary/Image%20%283%29.jpg", "size": "186.4KB"}, {"name": "Image (4).jpg", "path": "BoothDownloaderOut/5542201/Binary/Image%20%284%29.jpg", "size": "209.0KB"}, {"name": "Image (5).jpg", "path": "BoothDownloaderOut/5542201/Binary/Image%20%285%29.jpg", "size": "183.5KB"}, {"name": "Image (6).jpg", "path": "BoothDownloaderOut/5542201/Binary/Image%20%286%29.jpg", "size": "192.8KB"}, {"name": "Image (7).jpg", "path": "BoothDownloaderOut/5542201/Binary/Image%20%287%29.jpg", "size": "319.0KB"}, {"name": "Image (8).jpg", "path": "BoothDownloaderOut/5542201/Binary/Image%20%288%29.jpg", "size": "174.4KB"}, {"name": "Image (9).jpg", "path": "BoothDownloaderOut/5542201/Binary/Image%20%289%29.jpg", "size": "128.0KB"}]'
        data-tags='["Swim wear", "\u30d3\u30ad\u30cb", "\u8863\u88c5", "\u840c", "\u30f4\u30a7\u30fc\u30eb", "VRChat", "VRChat\u53ef", "VRC\u60f3\u5b9a\u30e2\u30c7\u30eb", "vrchat\u5411\u3051", "\u30c1\u30aa", "veil", "wet", "seethrough", "Thio", "see-through", "moe\u7528", "moe\u3061\u3083\u3093", "Velle3D", "velle3d", "Velle3d", "Fanatail", "velle3D"]' data-adult="false" 
        data-search='5542201 ã€Œstrandedã€ã®ãƒ“ãƒ¼ãƒã‚¦ã‚§ã‚¢ã€Œ3ã‚¢ãƒã‚¿ãƒ¼å¯¾å¿œã€ "stranded" beachwear "compatible with 3 avatars" buddyworks  swim wear ãƒ“ã‚­ãƒ‹ è¡£è£… èŒ ãƒ´ã‚§ãƒ¼ãƒ« vrchat vrchatå¯ vrcæƒ³å®šãƒ¢ãƒ‡ãƒ« vrchatå‘ã‘ ãƒã‚ª veil wet seethrough thio see-through moeç”¨ moeã¡ã‚ƒã‚“ velle3d velle3d velle3d fanatail velle3d image (1).jpg image (10).jpg image (2).jpg image (3).jpg image (4).jpg image (5).jpg image (6).jpg image (7).jpg image (8).jpg image (9).jpg' data-folder="BoothDownloaderOut/5542201/Binary" data-booth-url="https://buddyworks.booth.pm/items/5542201"
        data-filecount="10" data-wish="101" data-time="1766760657"
        data-price-value="400.0" data-price-currency="JPY" data-limited="false">
        <div class="skeleton-shimmer"></div>
        <div class="image-container"><div class="asset-id-tag">#5542201</div><img class="image-thumbnail" loading="lazy"></div>
        <img class="image-backglow"><div class="content">
            <div class="name"><span class="name-primary">ã€ŒStrandedã€ã®ãƒ“ãƒ¼ãƒã‚¦ã‚§ã‚¢ã€Œ3ã‚¢ãƒã‚¿ãƒ¼å¯¾å¿œã€</span></div>
            <div class="author-label">by <b class="author-primary">BUDDYWORKS</b></div>
            <div class="stats"><span>1.9MB</span><span class="file-label-dynamic"></span></div>
            <div class="tag-row"><span class="tag-pill">Swim wear</span><span class="tag-pill">ãƒ“ã‚­ãƒ‹</span><span class="tag-pill">è¡£è£…</span><span class="tag-pill">èŒ</span><span class="tag-pill">ãƒ´ã‚§ãƒ¼ãƒ«</span><span class="tag-pill">VRChat</span><span class="tag-pill">VRChatå¯</span><span class="tag-pill">VRCæƒ³å®šãƒ¢ãƒ‡ãƒ«</span><span class="tag-pill">vrchatå‘ã‘</span><span class="tag-pill">ãƒã‚ª</span><span class="tag-pill">veil</span><span class="tag-pill">wet</span></div>
        </div>
    </li>
    

    <li class="asset" onclick="openDetails('6066920')" 
        data-id="6066920" data-name-orig="[Free] BUDDYWORKS ãƒãƒ¼ã‚ºã‚·ã‚¹ãƒ†ãƒ " data-name-trans="[Free] BUDDYWORKS Pose System" 
        data-author-orig="BUDDYWORKS" data-author-trans="" data-img="img/6066920_thumb.webp" 
        data-all-images='["BoothDownloaderOut/6066920/a3ff984a-95d5-4686-a994-48aef8db3cab_base_resized.jpg", "BoothDownloaderOut/6066920/4b79a203-c429-44ac-9f02-24bf568a403f_base_resized.jpg", "BoothDownloaderOut/6066920/17929172-57ed-4e35-b583-ed5947585c60_base_resized.jpg", "BoothDownloaderOut/6066920/7da5abdf-f072-462a-9bbc-793c00875c02_base_resized.jpg", "BoothDownloaderOut/6066920/072346cf-4eca-4e35-8626-fd1281960cf3_base_resized.jpg", "BoothDownloaderOut/6066920/fde2ad14-bfa6-44b2-8613-8392f0a937b5_base_resized.jpg", "BoothDownloaderOut/6066920/db31760e-d2db-45e2-9d11-37646aa0ecab_base_resized.jpg", "BoothDownloaderOut/6066920/c3858959-3e5f-4740-87a0-e498c2579ec4_base_resized.jpg", "BoothDownloaderOut/6066920/2580fde4-9ece-45ee-bb52-d3209b6a71e7_base_resized.jpg", "BoothDownloaderOut/6066920/e11d2fd6-a3f4-4b21-9fb0-b64638fa3253_base_resized.jpg"]'
        data-bytes="0" data-files='[]'
        data-tags='["\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3", "\u840c", "VRChat\u53ef", "VRC\u60f3\u5b9a\u30e2\u30c7\u30eb", "vrchat\u5411\u3051", "poses", "moe\u7528", "moe\u3061\u3083\u3093", "buddyworks"]' data-adult="false" 
        data-search='6066920 [free] buddyworks ãƒãƒ¼ã‚ºã‚·ã‚¹ãƒ†ãƒ  [free] buddyworks pose system buddyworks  ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ èŒ vrchatå¯ vrcæƒ³å®šãƒ¢ãƒ‡ãƒ« vrchatå‘ã‘ poses moeç”¨ moeã¡ã‚ƒã‚“ buddyworks ' data-folder="BoothDownloaderOut/6066920/Binary" data-booth-url="https://buddyworks.booth.pm/items/6066920"
        data-filecount="0" data-wish="41" data-time="1766762334"
        data-price-value="200.0" data-price-currency="JPY" data-limited="false">
        <div class="skeleton-shimmer"></div>
        <div class="image-container"><div class="asset-id-tag">#6066920</div><img class="image-thumbnail" loading="lazy"></div>
        <img class="image-backglow"><div class="content">
            <div class="name"><span class="name-primary">[Free] BUDDYWORKS ãƒãƒ¼ã‚ºã‚·ã‚¹ãƒ†ãƒ </span></div>
            <div class="author-label">by <b class="author-primary">BUDDYWORKS</b></div>
            <div class="stats"><span>0.0B</span><span class="file-label-dynamic"></span></div>
            <div class="tag-row"><span class="tag-pill">ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³</span><span class="tag-pill">èŒ</span><span class="tag-pill">VRChatå¯</span><span class="tag-pill">VRCæƒ³å®šãƒ¢ãƒ‡ãƒ«</span><span class="tag-pill">vrchatå‘ã‘</span><span class="tag-pill">poses</span><span class="tag-pill">moeç”¨</span><span class="tag-pill">moeã¡ã‚ƒã‚“</span><span class="tag-pill">buddyworks</span></div>
        </div>
    </li>
    

    <li class="asset" onclick="openDetails('6089367')" 
        data-id="6089367" data-name-orig="ã€ŒFolkloreã€Swimsuit ã€Œ5ä½“ã®ã‚¢ãƒã‚¿ãƒ¼ã«å¯¾å¿œã€" data-name-trans="&quot;Folklore&quot; Swimsuit &quot;Compatible with 5 avatars&quot;" 
        data-author-orig="BUDDYWORKS" data-author-trans="" data-img="img/6089367_thumb.webp" 
        data-all-images='["BoothDownloaderOut/6089367/fbc21f22-0d39-4f6d-b026-b3355a87835a_base_resized.jpg", "BoothDownloaderOut/6089367/18162810-bf22-46ff-931f-53f1e095952a_base_resized.jpg", "BoothDownloaderOut/6089367/4fd06e47-fd09-4ff0-91b0-d8fd7f4a6967_base_resized.jpg", "BoothDownloaderOut/6089367/eac4d9e6-2f93-4d14-9704-dfad1148b288_base_resized.jpg", "BoothDownloaderOut/6089367/cc5d95e7-b036-46dc-aa3b-9c32921a18d8_base_resized.jpg", "BoothDownloaderOut/6089367/3b067242-6536-48e0-afa0-675dc0a83413_base_resized.jpg", "BoothDownloaderOut/6089367/caadff11-0e1e-453a-b6bf-ddc49902790a_base_resized.jpg", "BoothDownloaderOut/6089367/08e5a8ae-dc72-49bc-a4e0-5330e64b8bab_base_resized.jpg", "BoothDownloaderOut/6089367/91c24b91-6870-45b0-b1b9-12341b211da9_base_resized.jpg", "BoothDownloaderOut/6089367/e69a1136-0385-4c10-b5ca-07e2139887fd_base_resized.jpg", "BoothDownloaderOut/6089367/6c316501-6d97-42b4-8050-ca08102804f0_base_resized.jpg", "BoothDownloaderOut/6089367/3553aae0-fefa-41d9-9a36-0a9bb608fd4d_base_resized.jpg", "BoothDownloaderOut/6089367/d9d8959f-ec77-4a2e-a03f-ef0c73093955_base_resized.jpg", "BoothDownloaderOut/6089367/98a1e9d5-8ec9-40dd-b78c-5a38c1c26a27_base_resized.jpg", "BoothDownloaderOut/6089367/c8ef8ebe-ea98-4db4-824e-8f30931b2be8_base_resized.jpg", "BoothDownloaderOut/6089367/a5909946-071c-4453-af25-bd8076e3ab63_base_resized.jpg", "BoothDownloaderOut/6089367/4d18f1db-771c-4f2c-b3c3-c262a06fe716_base_resized.jpg", "BoothDownloaderOut/6089367/2cbf50a4-8871-41b4-82e0-e933346658a6_base_resized.jpg", "BoothDownloaderOut/6089367/fbb02b41-e100-4ff2-aa0f-6aec6b565a01_base_resized.jpg", "BoothDownloaderOut/6089367/203c0c2b-3ba3-4354-9a4c-c66076464d9e_base_resized.jpg"]'
        data-bytes="2038658" data-files='[{"name": "Image (1).jpg", "path": "BoothDownloaderOut/6089367/Binary/Image%20%281%29.jpg", "size": "291.8KB"}, {"name": "Image (10).jpg", "path": "BoothDownloaderOut/6089367/Binary/Image%20%2810%29.jpg", "size": "195.2KB"}, {"name": "Image (12).jpg", "path": "BoothDownloaderOut/6089367/Binary/Image%20%2812%29.jpg", "size": "326.3KB"}, {"name": "Image (15).jpg", "path": "BoothDownloaderOut/6089367/Binary/Image%20%2815%29.jpg", "size": "190.1KB"}, {"name": "Image (16).jpg", "path": "BoothDownloaderOut/6089367/Binary/Image%20%2816%29.jpg", "size": "201.7KB"}, {"name": "Image (19).jpg", "path": "BoothDownloaderOut/6089367/Binary/Image%20%2819%29.jpg", "size": "215.7KB"}, {"name": "Image (3).jpg", "path": "BoothDownloaderOut/6089367/Binary/Image%20%283%29.jpg", "size": "151.8KB"}, {"name": "Image (5).jpg", "path": "BoothDownloaderOut/6089367/Binary/Image%20%285%29.jpg", "size": "221.5KB"}, {"name": "Image (7).jpg", "path": "BoothDownloaderOut/6089367/Binary/Image%20%287%29.jpg", "size": "196.8KB"}]'
        data-tags='["Swim wear", "\u30d3\u30ad\u30cb", "\u8863\u88c5", "\u3057\u306a\u306e", "\u840c", "\u30f4\u30a7\u30fc\u30eb", "VRChat", "VRChat\u53ef", "VRC\u60f3\u5b9a\u30e2\u30c7\u30eb", "Veil", "poiyomi", "liltoon", "Thio", "bikini set", "Moe\u7528", "Moe\u5bfe\u5fdc", "Moe\u3061\u3083\u3093", "vrcfury", "Velle3D", "\u30de\u30cc\u30ab", "Manuka\u7528", "Manuka\u5bfe\u5fdc", "modularavatar", "Velle3d", "Fanatail", "BUDDYWORKS"]' data-adult="false" 
        data-search='6089367 ã€Œfolkloreã€swimsuit ã€Œ5ä½“ã®ã‚¢ãƒã‚¿ãƒ¼ã«å¯¾å¿œã€ "folklore" swimsuit "compatible with 5 avatars" buddyworks  swim wear ãƒ“ã‚­ãƒ‹ è¡£è£… ã—ãªã® èŒ ãƒ´ã‚§ãƒ¼ãƒ« vrchat vrchatå¯ vrcæƒ³å®šãƒ¢ãƒ‡ãƒ« veil poiyomi liltoon thio bikini set moeç”¨ moeå¯¾å¿œ moeã¡ã‚ƒã‚“ vrcfury velle3d ãƒãƒŒã‚« manukaç”¨ manukaå¯¾å¿œ modularavatar velle3d fanatail buddyworks image (1).jpg image (10).jpg image (12).jpg image (15).jpg image (16).jpg image (19).jpg image (3).jpg image (5).jpg image (7).jpg' data-folder="BoothDownloaderOut/6089367/Binary" data-booth-url="https://buddyworks.booth.pm/items/6089367"
        data-filecount="9" data-wish="75" data-time="1766760682"
        data-price-value="650.0" data-price-currency="JPY" data-limited="false">
        <div class="skeleton-shimmer"></div>
        <div class="image-container"><div class="asset-id-tag">#6089367</div><img class="image-thumbnail" loading="lazy"></div>
        <img class="image-backglow"><div class="content">
            <div class="name"><span class="name-primary">ã€ŒFolkloreã€Swimsuit ã€Œ5ä½“ã®ã‚¢ãƒã‚¿ãƒ¼ã«å¯¾å¿œã€</span></div>
            <div class="author-label">by <b class="author-primary">BUDDYWORKS</b></div>
            <div class="stats"><span>1.9MB</span><span class="file-label-dynamic"></span></div>
            <div class="tag-row"><span class="tag-pill">Swim wear</span><span class="tag-pill">ãƒ“ã‚­ãƒ‹</span><span class="tag-pill">è¡£è£…</span><span class="tag-pill">ã—ãªã®</span><span class="tag-pill">èŒ</span><span class="tag-pill">ãƒ´ã‚§ãƒ¼ãƒ«</span><span class="tag-pill">VRChat</span><span class="tag-pill">VRChatå¯</span><span class="tag-pill">VRCæƒ³å®šãƒ¢ãƒ‡ãƒ«</span><span class="tag-pill">Veil</span><span class="tag-pill">poiyomi</span><span class="tag-pill">liltoon</span></div>
        </div>
    </li>
    <li id="filterNotice"></li></ul></div>
    </div>
    <div id="detailModal" class="modal" onclick="closeModal()"><div class="modal-card" onclick="event.stopPropagation()"><div class="modal-carousel" id="modalCarouselContainer"><button id="carouselPrev" class="carousel-btn btn-prev" onclick="carouselNext(-1)">â®</button><img id="modalBlurBg" class="carousel-blur-bg" src=""><img id="modalImg" class="carousel-main-img" src=""><button id="carouselNext" class="carousel-btn btn-next" onclick="carouselNext(1)">â¯</button><div id="carouselDots" class="carousel-dots"></div></div><div class="modal-info"><div id="modalName" class="modal-name"></div><div id="modalSubtitle" class="modal-subtitle"></div><div id="delistedWarn" class="delisted-warning" data-i18n-html="warnDelisted"></div><div id="modalTags" style="display:flex; flex-wrap:wrap; gap:6px; margin-bottom:20px;"></div><span class="setting-label" data-i18n="labelBinary">Binary Files</span><ul id="fileList" class="file-list"></ul><div class="modal-footer"><div id="modalIdDisp" class="modal-id-display"></div><div class="modal-actions"><a id="openBoothLink" href="" class="discrete-link" target="_blank"><span data-i18n="footBooth">ğŸ›’ Booth</span></a><a id="openFolderLink" href="" class="discrete-link" target="_blank"><span data-i18n="footFolder">ğŸ“‚ Folder</span></a></div></div></div></div></div>
    <script>
        const translations = {
            en: { warnDelisted: "<b>âš ï¸ Delisted Item</b> This asset may no longer be available on Booth. Detailed metadata is limited.", navTitle: "Booth Asset Library", optionsBtn: "Options âš™", labelLanguage: "Language", labelSort: "Sort Order", optId: "Folder ID", optNew: "Recently Added", optName: "A-Z Name", optRel: "Popularity", optSize: "Storage Size", labelAdult: "Content Filter", optAll: "Show Everything", optHide: "Hide Adult", optOnly: "Adult Only", labelWidth: "Card Display Width", labelVisual: "Interface Settings", optBlur: "Disable Blur", optHideIds: "Hide Asset IDs", optTranslate: "Show English Titles", labelBinary: "Local Files", footBooth: "ğŸ›’ View on Booth", footFolder: "ğŸ“‚ Open Folder", searchPre: "Searching ", searchSuf: " assets...", fileSingular: "file", filePlural: "files", moreTags: "+ {n} others", hiddenResults: " ({n} items hidden by filter)", statItems: "Total Assets", statSize: "Library Size", statSpent: "Estimated Investment", statUpdated: "Last Refreshed", labelTopTags: "Frequent Tags" },
            ja: { warnDelisted: "<b>âš ï¸ å…¬é–‹åœæ­¢</b> ã“ã®ã‚¢ã‚¤ãƒ†ãƒ ã¯ç¾åœ¨Boothã§å…¬é–‹ã•ã‚Œã¦ã„ãªã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚è©³ç´°æƒ…å ±ã¯åˆ¶é™ã•ã‚Œã¦ã„ã¾ã™ã€‚", navTitle: "Boothã‚¢ã‚»ãƒƒãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒª", optionsBtn: "è¨­å®š âš™", labelLanguage: "è¡¨ç¤ºè¨€èª", labelSort: "ä¸¦ã³æ›¿ãˆ", optId: "IDé †", optNew: "è¿½åŠ æ—¥é †", optName: "åå‰é †", optRel: "äººæ°—é †", optSize: "ã‚µã‚¤ã‚ºé †", labelAdult: "æˆäººå‘ã‘ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼", optAll: "ã™ã¹ã¦è¡¨ç¤º", optHide: "æˆäººå‘ã‘ã‚’éš ã™", optOnly: "æˆäººå‘ã‘ã®ã¿", labelWidth: "ã‚«ãƒ¼ãƒ‰ã®å¹…", labelVisual: "è¡¨ç¤ºè¨­å®š", optBlur: "ã¼ã‹ã—ã‚’ç„¡åŠ¹åŒ–", optHideIds: "IDã‚’éè¡¨ç¤º", optTranslate: "ç¿»è¨³ã•ã‚ŒãŸåå‰ã‚’è¡¨ç¤º", labelBinary: "æ§‹æˆãƒ•ã‚¡ã‚¤ãƒ«", footBooth: "ğŸ›’ Boothã§è¦‹ã‚‹", footFolder: "ğŸ“‚ ãƒ•ã‚©ãƒ«ãƒ€ã‚’é–‹ã", searchPre: "æ¤œç´¢ä¸­: ", searchSuf: " ä»¶", fileSingular: "ãƒ•ã‚¡ã‚¤ãƒ«", filePlural: "ãƒ•ã‚¡ã‚¤ãƒ«", moreTags: "ä»– {n} ä»¶", hiddenResults: " ({n} ä»¶ãŒéè¡¨ç¤º)", statItems: "ç·ã‚¢ã‚¤ãƒ†ãƒ æ•°", statSize: "ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå®¹é‡", statSpent: "æ¨å®šæ”¯å‡ºåˆè¨ˆ", statUpdated: "æœ€çµ‚æ›´æ–°", labelTopTags: "äººæ°—ã®ã‚¿ã‚°" },
            ko: { warnDelisted: "<b>âš ï¸ íŒë§¤ ì¤‘ì§€ë¨</b> ì´ ì—ì…‹ì€ í˜„ì¬ Boothì—ì„œ ì œê³µë˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì •ë³´ê°€ ì œí•œì ì…ë‹ˆë‹¤.", navTitle: "Booth ì—ì…‹ ë¼ì´ë¸ŒëŸ¬ë¦¬", optionsBtn: "ì„¤ì • âš™", labelLanguage: "ì–¸ì–´ ì„ íƒ", labelSort: "ì •ë ¬ ê¸°ì¤€", optId: "í´ë” ID", optNew: "ìµœê·¼ ì¶”ê°€ë¨", optName: "ì´ë¦„ìˆœ", optRel: "ì¸ê¸°ìˆœ", optSize: "ìš©ëŸ‰ìˆœ", labelAdult: "ì„±ì¸ ì½˜í…ì¸  í•„í„°", optAll: "ëª¨ë‘ ë³´ê¸°", optHide: "ì„±ì¸ ì½˜í…ì¸  ìˆ¨ê¸°ê¸°", optOnly: "ì„±ì¸ ì½˜í…ì¸ ë§Œ", labelWidth: "ì¹´ë“œ ë„ˆë¹„", labelVisual: "ì¸í„°í˜ì´ìŠ¤ ì„¤ì •", optBlur: "ë¸”ëŸ¬ íš¨ê³¼ ë„ê¸°", optHideIds: "í•­ëª© ID ìˆ¨ê¸°ê¸°", optTranslate: "ë²ˆì—­ëœ ì œëª© ì‚¬ìš©", labelBinary: "ë¡œì»¬ íŒŒì¼", footBooth: "ğŸ›’ Boothì—ì„œ ë³´ê¸°", footFolder: "ğŸ“‚ í´ë” ì—´ê¸°", searchPre: "ê²€ìƒ‰ ê²°ê³¼: ", searchSuf: "ê°œ", fileSingular: "íŒŒì¼", filePlural: "íŒŒì¼", moreTags: "+ {n}ê°œ ë”ë³´ê¸°", hiddenResults: " ({n}ê°œ í•„í„°ë§ë¨)", statItems: "ì´ ì—ì…‹ ìˆ˜", statSize: "ì „ì²´ ìš©ëŸ‰", statSpent: "ì˜ˆìƒ ì´ ì§€ì¶œ", statUpdated: "ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸", labelTopTags: "ê°€ì¥ ë§ì´ ì“°ì¸ íƒœê·¸" },
            'zh-Hans': { warnDelisted: "<b>âš ï¸ å·²ä¸‹æ¶å†…å®¹</b> æ­¤èµ„æºå¯èƒ½å·²åœ¨ Booth åœæ­¢å”®å–ï¼Œè©³ç´°å…ƒæ•°æ®å—é™ã€‚", navTitle: "Booth èµ„æºåº“", optionsBtn: "é€‰é¡¹ âš™", labelLanguage: "è¯­è¨€è®¾ç½®", labelSort: "æ’åºæ–¹å¼", optId: "æ–‡ä»¶å¤¹ ID", optNew: "æœ€è¿‘æ·»åŠ ", optName: "åç§°æ’åº", optRel: "äººæ°”ç›¸å…³", optSize: "å ç”¨ç©ºé—´", labelAdult: "æˆäººå†…å®¹è¿‡æ»¤", optAll: "æ˜¾ç¤ºå…¨éƒ¨å†…å®¹", optHide: "éšè—æˆäººå†…å®¹", optOnly: "ä»…æˆäººå†…å®¹", labelWidth: "å¡ç‰‡æ˜¾ç¤ºå®½åº¦", labelVisual: "è§†è§‰é€‰é¡¹", optBlur: "ç¦ç”¨æ¨¡ç³Šæ•ˆæœ", optHideIds: "éšè—èµ„æº ID", optTranslate: "æ˜¾ç¤ºç¿»è¯‘åç§°", labelBinary: "æœ¬åœ°æ–‡ä»¶", footBooth: "ğŸ›’ åœ¨ Booth æ‰“å¼€", footFolder: "ğŸ“‚ æ‰“å¼€æœ¬åœ°ç›®å½•", searchPre: "æ­£åœ¨æœç´¢ ", searchSuf: " ä¸ªèµ„æº...", fileSingular: "æ–‡ä»¶", filePlural: "æ–‡ä»¶", moreTags: "+ {n} ä¸ªå…¶ä»–", hiddenResults: " ({n} ä¸ªå·²è¢«è¿‡æ»¤)", statItems: "èµ„æºæ€»æ•°", statSize: "åº“æ€»å¤§å°", statSpent: "é¢„è®¡æ€»æ”¯å‡º", statUpdated: "æœ€åæ›´æ–°æ—¶é—´", labelTopTags: "é«˜é¢‘æ ‡ç­¾" },
            'zh-Hant': { warnDelisted: "<b>âš ï¸ å·²ä¸‹æ¶å…§å®¹</b> æ­¤è³‡æºå¯èƒ½å·²åœ¨ Booth åœæ­¢è²©å”®ï¼Œè©³ç´°è³‡è¨Šå—é™ã€‚", navTitle: "Booth è³‡æºåº«", optionsBtn: "é¸é … âš™", labelLanguage: "èªè¨€è¨­ç½®", labelSort: "æ’åºæ–¹å¼", optId: "è³‡æ–™å¤¾ ID", optNew: "æœ€è¿‘æ·»åŠ ", optName: "åç¨±æ’åº", optRel: "äººæ°£ç›¸é—œ", optSize: "å ç”¨ç©ºé–“", labelAdult: "æˆäººå…§å®¹éæ¿¾", optAll: "é¡¯ç¤ºå…¨éƒ¨å…§å®¹", optHide: "éš±è—æˆäººå…§å®¹", optOnly: "åƒ…é™æˆäººå…§å®¹", labelWidth: "å¡ç‰‡é¡¯ç¤ºå¯¬åº¦", labelVisual: "è¦–è¦ºé¸é …", optBlur: "ç¦ç”¨æ¨¡ç³Šæ•ˆæœ", optHideIds: "éš±è—è³‡æº ID", optTranslate: "é¡¯ç¤ºç¿»è­¯åç¨±", labelBinary: "æœ¬åœ°æª”æ¡ˆ", footBooth: "ğŸ›’ åœ¨ Booth æ‰“é–‹", footFolder: "ğŸ“‚ æ‰“é–‹è³‡æ–™å¤¾", searchPre: "æ­£åœ¨æœå°‹ ", searchSuf: " å€‹è³‡æº...", fileSingular: "æª”æ¡ˆ", filePlural: "æª”æ¡ˆ", moreTags: "+ {n} å€‹å…¶ä»–", hiddenResults: " ({n} å€‹å·²è¢«éæ¿¾)", statItems: "è³‡æºç¸½æ•¸", statSize: "åº«ç¸½å¤§å°", statSpent: "é è¨ˆç¸½æ”¯å‡º", statUpdated: "æœ€å¾Œæ›´æ–°æ™‚é–“", labelTopTags: "é«˜é »æ¨™ç±¤" },
            de: { warnDelisted: "<b>âš ï¸ Nicht mehr gelistet</b> Dieses Asset ist mÃ¶glicherweise nicht mehr verfÃ¼gbar. Metadaten sind eingeschrÃ¤nkt.", navTitle: "Booth Bibliothek", optionsBtn: "Optionen âš™", labelLanguage: "Sprache", labelSort: "Sortierung", optId: "Ordner ID", optNew: "Zuletzt hinzugefÃ¼gt", optName: "Name (A-Z)", optRel: "Beliebtheit", optSize: "DateigrÃ¶ÃŸe", labelAdult: "Filter", optAll: "Alles zeigen", optHide: "Nicht jugendfrei ausblenden", optOnly: "Nur 18+", labelWidth: "Kartenbreite", labelVisual: "Anzeige", optBlur: "Kein Fokus", optHideIds: "IDs verbergen", optTranslate: "Ãœbersetzte Titel", labelBinary: "Dateien", footBooth: "ğŸ›’ Auf Booth ansehen", footFolder: "ğŸ“‚ Ordner Ã¶ffnen", searchPre: "Suche ", searchSuf: " Artikel...", fileSingular: "Datei", filePlural: "Dateien", moreTags: "+ {n} weitere", hiddenResults: " ({n} durch Filter versteckt)", statItems: "Gesamtanzahl", statSize: "DateigrÃ¶ÃŸe", statSpent: "Voraussichtliche Kosten", statUpdated: "Aktualisiert", labelTopTags: "HÃ¤ufige Tags" },
            nl: { warnDelisted: "<b>âš ï¸ Verwijderde Inhoud</b> Dit item is mogelijk niet langer beschikbaar op Booth.", navTitle: "Booth Bibliotheek", optionsBtn: "Opties âš™", labelLanguage: "Taal", labelSort: "Sorteren", optId: "ID", optNew: "Nieuwste eerst", optName: "Naam", optRel: "Relevantie", optSize: "Grootte", labelAdult: "Filter", optAll: "Alles tonen", optHide: "Verberg 18+", optOnly: "Alleen 18+", labelWidth: "Breedte", labelVisual: "Visuele opties", optBlur: "Geen vervaging", optHideIds: "ID's verbergen", optTranslate: "Vertaalde titels", labelBinary: "Bestanden", footBooth: "ğŸ›’ Bekijk op Booth", footFolder: "ğŸ“‚ Map openen", searchPre: "Zoek in ", searchSuf: " items...", fileSingular: "bestand", filePlural: "bestanden", moreTags: "+ {n} meer", hiddenResults: " ({n} items verborgen)", statItems: "Totaal aantal", statSize: "Totale grootte", statSpent: "Geschatte totale kosten", statUpdated: "Laatste update", labelTopTags: "Populaire tags" },
            fr: { warnDelisted: "<b>âš ï¸ Contenu non listÃ©</b> Cet asset n'est probablement plus disponible sur Booth.", navTitle: "BibliothÃ¨que Booth", optionsBtn: "Options âš™", labelLanguage: "Langue", labelSort: "Trier par", optId: "ID du dossier", optNew: "AjoutÃ©s rÃ©cemment", optName: "Nom (A-Z)", optRel: "PopularitÃ©", optSize: "Taille totale", labelAdult: "Filtre de contenu", optAll: "Tout afficher", optHide: "Masquer Adulte", optOnly: "Adulte uniquement", labelWidth: "Largeur des cartes", labelVisual: "ParamÃ¨tres visuels", optBlur: "DÃ©sactiver le flou", optHideIds: "Masquer les IDs", optTranslate: "Titres traduits", labelBinary: "Fichiers locaux", footBooth: "ğŸ›’ Voir sur Booth", footFolder: "ğŸ“‚ Ouvrir le dossier", searchPre: "Recherche de ", searchSuf: " items...", fileSingular: "fichier", filePlural: "fichiers", moreTags: "+ {n} de plus", hiddenResults: " ({n} masquÃ©s par filtre)", statItems: "Total des assets", statSize: "Espace occupÃ©", statSpent: "Investissement estimÃ©", statUpdated: "Mis Ã  jour le", labelTopTags: "Tags frÃ©quents" },
            es: { warnDelisted: "<b>âš ï¸ Item no disponible</b> Es probable que este conteÃºdo ya no esteja en Booth.", navTitle: "Biblioteca Booth", optionsBtn: "Opciones âš™", labelLanguage: "Idioma", labelSort: "Ordenar por", optId: "ID de carpeta", optNew: "AÃ±adidos recentemente", optName: "Nombre (A-Z)", optRel: "Relevancia", optSize: "TamaÃ±o", labelAdult: "Filtro de conteÃºdo", optAll: "Mostrar todo", optHide: "Ocultar adultos", optOnly: "Solo adultos", labelWidth: "Ancho de tarjeta", labelVisual: "Ajustes visuales", optBlur: "Quitar desenfoque", optHideIds: "Ocultar IDs", optTranslate: "TÃ­tulos traducidos", labelBinary: "Archivos locales", footBooth: "ğŸ›’ Ver en Booth", footFolder: "ğŸ“‚ Abrir carpeta", searchPre: "Buscando ", searchSuf: " activos...", fileSingular: "archivo", filePlural: "archivos", moreTags: "+ {n} outros", hiddenResults: " ({n} ocultos)", statItems: "Activos totales", statSize: "TamaÃ±o de librerÃ­a", statSpent: "InversiÃ³n estimada", statUpdated: "Ãšltima actualizaciÃ³n", labelTopTags: "Etiquetas comunes" },
            pt: { warnDelisted: "<b>âš ï¸ ConteÃºdo removido</b> Este asset pode nÃ£o estar mais disponÃ­vel no Booth.", navTitle: "Biblioteca Booth", optionsBtn: "OpÃ§Ãµes âš™", labelLanguage: "Idioma", labelSort: "Ordenar por", optId: "ID da pasta", optNew: "Adicionados recentemente", optName: "Nome (A-Z)", optRel: "Popularidade", optSize: "Tamanho total", labelAdult: "Filtro de conteÃºdo", optAll: "Mostrar tudo", optHide: "Ocultar 18+", optOnly: "Apenas 18+", labelWidth: "Largura dos cards", labelVisual: "Controles visuais", optBlur: "Sem desfoque", optHideIds: "Ocultar IDs", optTranslate: "TÃ­tulos traduzidos", labelBinary: "Arquivos locais", footBooth: "ğŸ›’ Ver no Booth", footFolder: "ğŸ“‚ Abrir pasta", searchPre: "Pesquisando ", searchSuf: " itens...", fileSingular: "arquivo", filePlural: "arquivos", moreTags: "+ {n} outros", hiddenResults: " ({n} itens ocultos)", statItems: "Total de itens", statSize: "Tamanho da biblioteca", statSpent: "Investimento estimado", statUpdated: "Ãšltima atualizaÃ§Ã£o", labelTopTags: "Tags frequentes" }
        };
        let currentCarouselIndex = 0, currentImages = [];
        const baseTitle = "Booth Asset Library";
        const getLS = (k, def) => localStorage.getItem(k) || def;
        const state = { gridSize: getLS('gridSize', '220'), disableBlur: getLS('disableBlur', 'false') === 'true', sortOrder: getLS('sortOrder', 'id'), adultFilter: getLS('adultFilter', 'all'), hideIds: getLS('hideIds', 'false') === 'true', lang: getLS('lang', 'en'), showTrans: getLS('showTrans', 'true') === 'true' };
        
        function formatBytes(bytes) {
            if (bytes === 0) return '0 B';
            const k = 1024, sizes = ['B', 'KB', 'MB', 'GB', 'TB'], i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }

        const observerOptions = { root: null, rootMargin: '1000px', threshold: 0.01 };
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const el = entry.target;
                    const img = el.querySelector('.image-thumbnail');
                    const glow = el.querySelector('.image-backglow');
                    if (img && !img.src) img.src = el.dataset.img;
                    if (glow && !glow.src) glow.src = el.dataset.img;
                    el.classList.add('is-visible');
                    observer.unobserve(el);
                }
            });
        }, observerOptions);

        function init() {
            requestAnimationFrame(() => {
                requestAnimationFrame(() => {
                    updateLanguage(state.lang); updateGrid(state.gridSize); updateBlur(state.disableBlur); updateIdVisibility(state.hideIds); updateTranslationVisibility(state.showTrans);
                    document.getElementById('gridRange').value = state.gridSize; document.getElementById('blurToggle').checked = state.disableBlur; document.getElementById('sortOrder').value = state.sortOrder;
                    document.getElementById('adultFilter').value = state.adultFilter; document.getElementById('hideIdToggle').checked = state.hideIds; document.getElementById('translateToggle').checked = state.showTrans;
                    
                    const items = document.getElementsByClassName('asset');
                    let totalBytes = 0;
                    const tagCounts = {};
                    const spent = {};

                    for(let item of items) { 
                        totalBytes += parseInt(item.dataset.bytes || 0); 
                        const tags = JSON.parse(item.dataset.tags || "[]");
                        tags.forEach(t => tagCounts[t] = (tagCounts[t] || 0) + 1);
                        const pVal = parseFloat(item.dataset.priceValue || 0);
                        const pCur = item.dataset.priceCurrency || "";
                        if (pVal > 0 && pCur) spent[pCur] = (spent[pCur] || 0) + pVal;
                        observer.observe(item);
                    }

                    const topTags = Object.entries(tagCounts).sort((a,b) => b[1] - a[1]).slice(0, 10);
                    document.getElementById('commonTags').innerHTML = topTags.map(([tag]) => `<span class="tag-pill clickable" onclick="tagSearch('${tag.replace(/'/g, "\\'")}')">${tag}</span>`).join('');

                    document.getElementById('statCount').innerText = items.length;
                    document.getElementById('statSize').innerText = formatBytes(totalBytes);
                    document.getElementById('statSpent').innerText = Object.entries(spent).map(([cur, val]) => val.toLocaleString() + " " + cur).join(" / ") || "0";
                    document.getElementById('statDate').innerText = new Date().toLocaleDateString();

                    handleSearchInput(); sortAssets();
                    const urlParams = new URLSearchParams(window.location.search);
                    const targetId = urlParams.get('id');
                    if (targetId) openDetails(targetId, true);

                    setTimeout(() => {
                        document.body.classList.add('loaded');
                    }, 50);
                });
            });
        }

        window.onpopstate = (e) => {
            const urlParams = new URLSearchParams(window.location.search);
            const targetId = urlParams.get('id');
            if (targetId) openDetails(targetId, true); else closeModal(true);
        };

        function updateLanguage(lang) { 
            state.lang = lang; localStorage.setItem('lang', lang); 
            document.getElementById('langSelect').value = lang; 
            const t = translations[lang] || translations['en']; 
            document.querySelectorAll('[data-i18n]').forEach(el => { el.innerText = t[el.dataset.i18n]; }); 
            document.querySelectorAll('[data-i18n-html]').forEach(el => { el.innerHTML = t[el.dataset.i18nHtml]; });
            applyFilters(); 
        }
        function toggleMenu(e, forceClose = false) { if(e) e.stopPropagation(); const menu = document.getElementById('flyoutMenu'), btn = document.getElementById('toggleBtn'), perim = document.getElementById('menuPerimeter'); const open = !forceClose && !menu.classList.contains('open'); menu.classList.toggle('open', open); btn.classList.toggle('active', open); perim.style.display = open ? 'block' : 'none'; }
        function updateGrid(v) { document.documentElement.style.setProperty('--grid-size', v + 'px'); localStorage.setItem('gridSize', v); }
        function updateBlur(v) { document.body.classList.toggle('no-blur', v); localStorage.setItem('disableBlur', v); }
        function updateIdVisibility(v) { document.body.classList.toggle('hide-ids', v); localStorage.setItem('hideIds', v); }
        function updateTranslationVisibility(v) { state.showTrans = v; localStorage.setItem('showTrans', v); const items = document.getElementsByClassName('asset'); for(let item of items) { 
            const primaryName = item.querySelector('.name-primary'); 
            primaryName.innerText = (v && item.dataset.nameTrans) ? item.dataset.nameTrans : item.dataset.nameOrig;
            const authorPrimary = item.querySelector('.author-primary');
            authorPrimary.innerText = (v && item.dataset.authorTrans) ? item.dataset.authorTrans : item.dataset.authorOrig;
        } }
        function handleSearchInput() { applyFilters(); }
        function clearSearch() { const i = document.getElementById("searchInput"); i.value = ""; handleSearchInput(); i.focus(); }
        function tagSearch(tag) { const s = document.getElementById("searchInput"); s.value = tag; closeModal(); handleSearchInput(); window.scrollTo({ top: 0, behavior: 'smooth' }); }
        function applyFilters(save = false) {
            const query = document.getElementById("searchInput").value.toLowerCase();
            const mode = document.getElementById("adultFilter").value;
            const items = document.getElementsByClassName("asset"), t = translations[state.lang] || translations['en'];
            let count = 0, totalMatchesButHidden = 0;
            if(save) localStorage.setItem('adultFilter', mode);
            for (let item of items) {
                const isAdult = item.dataset.adult === 'true';
                const searchMatch = item.dataset.search.includes(query);
                const filterMatch = (mode === 'all') || (mode === 'hide' && !isAdult) || (mode === 'only' && isAdult);
                if (searchMatch && !filterMatch) totalMatchesButHidden++;
                const visible = searchMatch && filterMatch;
                if (visible) { count++; item.style.display = ""; observer.observe(item); } else { item.style.display = "none"; }
                const fc = parseInt(item.dataset.filecount);
                item.querySelector('.file-label-dynamic').innerText = fc + " " + (fc === 1 ? t.fileSingular : t.filePlural);
            }
            document.getElementById("searchInput").placeholder = t.searchPre + count + t.searchSuf;
            const notice = document.getElementById("filterNotice");
            if (totalMatchesButHidden > 0) { notice.innerText = t.hiddenResults.replace('{n}', totalMatchesButHidden).trim(); notice.style.display = "flex"; } else { notice.style.display = "none"; }
        }
        function sortAssets(save = false) {
            const list = document.getElementById('assetList'), order = document.getElementById('sortOrder').value;
            if(save) localStorage.setItem('sortOrder', order);
            const items = Array.from(list.children).filter(el => el.classList.contains('asset'));
            items.sort((a, b) => {
                if (order === 'id') return parseInt(a.dataset.id) - parseInt(b.dataset.id);
                if (order === 'new') return parseInt(b.dataset.time) - parseInt(a.dataset.time);
                if (order === 'rel') return parseInt(b.dataset.wish) - parseInt(a.dataset.wish);
                if (order === 'name') {
                    const nA = (state.showTrans && a.dataset.nameTrans) ? a.dataset.nameTrans : a.dataset.nameOrig;
                    const nB = (state.showTrans && b.dataset.nameTrans) ? b.dataset.nameTrans : b.dataset.nameOrig;
                    return nA.toLowerCase().localeCompare(nB.toLowerCase());
                }
                return parseInt(b.dataset.bytes) - parseInt(a.dataset.bytes);
            });
            const notice = document.getElementById('filterNotice');
            list.innerHTML = ""; items.forEach(i => list.appendChild(i));
            list.appendChild(notice); applyFilters();
        }
        function openDetails(id, skipHistory = false) {
            const el = document.querySelector(`.asset[data-id="${id}"]`), t = translations[state.lang] || translations['en'];
            if(!el) return;
            const displayTitle = (state.showTrans && el.dataset.nameTrans) ? el.dataset.nameTrans : el.dataset.nameOrig;
            const displayAuthor = (state.showTrans && el.dataset.authorTrans) ? el.dataset.authorTrans : el.dataset.authorOrig;
            const subtitle = (state.showTrans && el.dataset.nameTrans) ? el.dataset.nameOrig : "";
            document.getElementById("modalName").innerText = displayTitle;
            document.getElementById("modalSubtitle").innerText = (subtitle ? subtitle + " | " : "") + displayAuthor;
            document.getElementById("modalIdDisp").innerText = "#" + id;
            document.getElementById("openFolderLink").href = el.dataset.folder;
            document.getElementById("openBoothLink").href = el.dataset.boothUrl;
            document.getElementById("delistedWarn").style.display = (el.dataset.limited === 'true') ? 'block' : 'none';
            currentImages = JSON.parse(el.dataset.allImages); currentCarouselIndex = 0; updateCarousel();
            const tags = JSON.parse(el.dataset.tags);
            const tagContainer = document.getElementById("modalTags");
            const renderTagsInternal = (list) => list.map(tg => `<span class="tag-pill clickable" onclick="tagSearch('${tg.replace(/'/g, "\\'")}')">${tg}</span>`).join('');
            if (tags.length > 25) { tagContainer.innerHTML = renderTagsInternal(tags.slice(0, 20)) + `<span class="tag-pill more-btn clickable" onclick="this.parentElement.innerHTML=window.renderTagsFull(JSON.parse(document.querySelector('.asset[data-id=\\'${id}\\\']').dataset.tags))">${t.moreTags.replace('{n}', tags.length - 20)}</span>`; } else tagContainer.innerHTML = renderTagsInternal(tags);
            window.renderTagsFull = renderTagsInternal;
            const fileData = JSON.parse(el.dataset.files);
            fileData.sort((a, b) => b.name.toLowerCase().localeCompare(a.name.toLowerCase(), undefined, { numeric: true, sensitivity: 'base' }));
            document.getElementById("fileList").innerHTML = fileData.map(f => `<li class="file-item"><a class="file-link" href="${f.path}" target="_blank">${f.name}</a><span style="color:#aaa;font-size:0.75rem;">${f.size}</span></li>`).join('');
            const m = document.getElementById("detailModal"); m.classList.add('visible'); setTimeout(() => m.classList.add('active'), 10);
            document.title = baseTitle + " - #" + id;
            if (!skipHistory) { const newUrl = new URL(window.location); newUrl.searchParams.set('id', id); window.history.pushState({id: id}, '', newUrl); }
        }
        function carouselNext(dir) { if (currentImages.length <= 1) return; currentCarouselIndex = (currentCarouselIndex + dir + currentImages.length) % currentImages.length; updateCarousel(); }
        function updateCarousel() {
            const img = currentImages[currentCarouselIndex];
            const modalImg = document.getElementById("modalImg");
            const modalBlurBg = document.getElementById("modalBlurBg");
            modalImg.src = img; modalBlurBg.src = img;
            const dots = document.getElementById("carouselDots");
            if (currentImages.length > 1) { dots.style.display = "flex"; dots.innerHTML = currentImages.map((_, i) => `<div class="dot ${i === currentCarouselIndex ? 'active' : ''}" onclick="currentCarouselIndex=${i}; updateCarousel()"></div>`).join(''); document.getElementById("carouselPrev").style.display = "block"; document.getElementById("carouselNext").style.display = "block"; } else { dots.style.display = "none"; document.getElementById("carouselPrev").style.display = "none"; document.getElementById("carouselNext").style.display = "none"; }
        }
        function closeModal(skipHistory = false) { 
            const m = document.getElementById("detailModal"); m.classList.remove('active'); setTimeout(() => { if(!m.classList.contains('active')) m.classList.remove('visible'); }, 300);
            document.title = baseTitle;
            if (!skipHistory) { const newUrl = new URL(window.location); newUrl.searchParams.delete('id'); window.history.pushState({}, '', newUrl); }
        }
        window.onclick = e => { const menu = document.getElementById('flyoutMenu'); const btn = document.getElementById('toggleBtn'); if (menu.classList.contains('open') && !menu.contains(e.target) && e.target !== btn) toggleMenu(null, true); };
        document.addEventListener('keydown', e => { if(e.key === "Escape") { closeModal(); toggleMenu(null, true); } if(e.key === "ArrowRight") carouselNext(1); if(e.key === "ArrowLeft") carouselNext(-1); });
        init();
    </script>
</body>
</html>
